<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Update a data object and associated resource map and metadata — update_package_object • arcticdatautils</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Update a data object and associated resource map and metadata — update_package_object" />

<meta property="og:description" content="This function updates a data object and then automatically
updates the package resource map with the new data PID. If an object
already has a dataTable, otherEntity, or spatialVector
with a working physical section, the EML will be updated with the new physical.
It is a convenience wrapper around update_object() and publish_update()." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">arcticdatautils</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a-overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/b-basic-usage.html">Basic Usage</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/NCEAS/arcticdatautils">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Update a data object and associated resource map and metadata</h1>
    
    <div class="hidden name"><code>update_package_object.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function updates a data object and then automatically
updates the package resource map with the new data PID. If an object
already has a <code>dataTable</code>, <code>otherEntity</code>, or <code>spatialVector</code>
with a working physical section, the EML will be updated with the new physical.
It is a convenience wrapper around <code><a href='update_object.html'>update_object()</a></code> and <code><a href='publish_update.html'>publish_update()</a></code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>update_package_object</span>(<span class='no'>mn</span>, <span class='no'>data_pid</span>, <span class='no'>new_data_path</span>, <span class='no'>resource_map_pid</span>,
  <span class='kw'>format_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>public</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>use_doi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mn</th>
      <td><p>(MNode) The Member Node of the data package.</p></td>
    </tr>
    <tr>
      <th>data_pid</th>
      <td><p>(character) PID for data object to update.</p></td>
    </tr>
    <tr>
      <th>new_data_path</th>
      <td><p>(character) Path to new data object.</p></td>
    </tr>
    <tr>
      <th>resource_map_pid</th>
      <td><p>(character) PID for resource map to update.</p></td>
    </tr>
    <tr>
      <th>format_id</th>
      <td><p>(character) Optional. The format ID to set for the object.
When not set, <code><a href='guess_format_id.html'>guess_format_id()</a></code> will be used
to guess the format ID. Should be a <a href='https://cn.dataone.org/cn/v2/formats'>DataONE format ID</a>.</p></td>
    </tr>
    <tr>
      <th>public</th>
      <td><p>(logical) Optional. Make the update public. If <code>FALSE</code>,
will set the metadata and resource map to private (but not the data objects).
This applies to the new metadata PID and its resource map and data object.
Access policies are not affected.</p></td>
    </tr>
    <tr>
      <th>use_doi</th>
      <td><p>(logical) Optional. If <code>TRUE</code>, a new DOI will be minted.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments to pass into <code><a href='publish_update.html'>publish_update()</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>(character) Named character vector of PIDs in the data package, including PIDs
for the metadata, resource map, and data objects.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='update_object.html'>update_object()</a></code> <code><a href='publish_update.html'>publish_update()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>cnTest</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dataone</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/dataone/topics/CNode'>CNode</a></span>(<span class='st'>"STAGING"</span>)
<span class='no'>mnTest</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>dataone</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/dataone/topics/getMNode'>getMNode</a></span>(<span class='no'>cnTest</span>,<span class='st'>"urn:node:mnTestARCTIC"</span>)

<span class='no'>pkg</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='create_dummy_package_full.html'>create_dummy_package_full</a></span>(<span class='no'>mnTest</span>, <span class='kw'>title</span> <span class='kw'>=</span> <span class='st'>"My package"</span>)

<span class='fu'>file.create</span>(<span class='st'>"new_file.csv"</span>)
<span class='fu'>update_package_object</span>(<span class='no'>mnTest</span>, <span class='no'>pkg</span>$<span class='no'>data</span>[<span class='fl'>1</span>], <span class='st'>"new_file.csv"</span>, <span class='no'>pkg</span>$<span class='no'>resource_map</span>, <span class='kw'>format_id</span> <span class='kw'>=</span> <span class='st'>"text/csv"</span>)
<span class='fu'>file.remove</span>(<span class='st'>"new_file.csv"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bryce Mecum.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

