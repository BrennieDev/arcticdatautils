<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Publish an updated data package. — publish_update • arcticdatautils</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">arcticdatautils</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Publish an updated data package.</h1>
    </div>

    
    <p>This function can be used for a variety of tasks:</p>
    

    <pre><span class='fu'>publish_update</span>(<span class='no'>mn</span>, <span class='no'>metadata_pid</span>, <span class='no'>resource_map_pid</span>, <span class='kw'>data_pids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>child_pids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>metadata_path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>identifier</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>use_doi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>parent_resmap_pid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>parent_metadata_pid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>parent_data_pids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>parent_child_pids</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>public</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>check_first</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mn</th>
      <td><p>(MNode) The Member Node to update the object on.</p></td>
    </tr>
    <tr>
      <th>metadata_pid</th>
      <td><p>(character) The PID of the EML metadata document to be updated.</p></td>
    </tr>
    <tr>
      <th>resource_map_pid</th>
      <td><p>(character)  The PID of the resource map for the package.</p></td>
    </tr>
    <tr>
      <th>data_pids</th>
      <td><p>(character)  PID(s) of data objects that will go in the updated package.</p></td>
    </tr>
    <tr>
      <th>child_pids</th>
      <td><p>(character) Optional. Child packages resource map PIDs.</p></td>
    </tr>
    <tr>
      <th>metadata_path</th>
      <td><p>(character) Optional. Path to a metadata file to update with. If this is not set, the existing metadata document will be used.</p></td>
    </tr>
    <tr>
      <th>identifier</th>
      <td><p>(character) Manually specify the identifier for the new metadata object.</p></td>
    </tr>
    <tr>
      <th>use_doi</th>
      <td><p>(logical) Generate and use a DOI as the identifier for the updated metadata object.</p></td>
    </tr>
    <tr>
      <th>parent_resmap_pid</th>
      <td><p>(character)  Optional. PID of a parent package to be updated.</p></td>
    </tr>
    <tr>
      <th>parent_metadata_pid</th>
      <td><p>(character)  Optional. Identifier for the metadata document of the parent package.</p></td>
    </tr>
    <tr>
      <th>parent_data_pids</th>
      <td><p>(character)  Optional. Identifier for the data objects of the parent package.</p></td>
    </tr>
    <tr>
      <th>parent_child_pids</th>
      <td><p>(character) Optional. Resource map identifier(s) of child packages in the parent package.</p></td>
    </tr>
    <tr>
      <th>public</th>
      <td><p>(logical) Optional. Make the update public. If FALSE, will set the metadata and resource map to private (but not the data objects).
This applies to the new metadata PID and its resource map and data object.
access policies are not affected.</p></td>
    </tr>
    <tr>
      <th>check_first</th>
      <td><p>(logical) Optional. Whether to check the PIDs passed in as aruments exist on the MN before continuing. Checks that objects exist and are of the right format type. This speeds up the function, especially when `data_pids` has many elements.</p></td>
    </tr>
    <tr>
      <th>parent_data_pids</th>
      <td></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <ul>
<li><p>Publish an existing package with a DOI</p></li>
<li><p>Update a package with new data objects</p></li>
<li><p>Update a package with new metadata</p></li>
</ul>
    <p>The metadata_pid and resource_map_pid provide the identifier of an EML metadata
document and associated resource map, and the data_pids vector provides a list
of PIDs of data objects in the package.  Update the metadata file and resource map
by generating a new identifier (a DOI if use_doi is TRUE) and updating the Member
Node with a public version of the object.  If metadata_file is not missing, it
should be an edited version of the metadata to be used to update the original. If
parent_resmap_pid is not missing, it indicates the PID of a parent package that
should be updated as well, using the parent_medata_pid, parent_data_pids, and
parent_child_pids as members of the updated package. In all cases, the objects
are made publicly readable.</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bryce Mecum.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
